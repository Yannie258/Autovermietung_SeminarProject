{"remainingRequest":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\Reset.vue?vue&type=style&index=0&id=6766c9cf&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\Reset.vue","mtime":1609925868252},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpoMSwgaDIgew0KICBmb250LXdlaWdodDogbm9ybWFsOw0KfQ0KdWwgew0KICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7DQogIHBhZGRpbmc6IDA7DQp9DQpsaSB7DQogIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgbWFyZ2luOiAwIDEwcHg7DQp9DQphIHsNCiAgY29sb3I6ICM0MmI5ODM7DQp9DQpidXR0b24gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwOyAvKiBHcmVlbiAqLw0KICBib3JkZXI6IG5vbmU7DQogIGNvbG9yOiB3aGl0ZTsNCiAgcGFkZGluZzogMTZweCAzMnB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsNCiAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICB3aWR0aDogMTAlOw0KICBmb250LXNpemU6IDE0cHg7DQogIG1hcmdpbjogNHB4IDJweDsNCiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC40czsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQo="},{"version":3,"sources":["C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\Reset.vue"],"names":[],"mappings":";AA8GA,CAAC,CAAC,EAAE,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACZ;AACA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAChB;AACA,EAAE;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB","file":"C:/Users/coanh/OneDrive/Documents/SW-Projekt/Auto/Autovermietung/Autovermietung/src/components/Reset.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div v-if=\"!resetPW\">\r\n        <h1>Geben Sie die Email ein, die mit dem Account verknüpft ist, dessen Passwort Sie zurücksetzen möchten</h1>\r\n        <form>\r\n         <input type=\"email\" placeholder=\"Email\" v-model=\"email\" required autofocus/>\r\n         <button type=\"cancel\" @click=\"back\">\r\n                    Zurueck\r\n         </button>\r\n         <button type=\"button\" @click=\"reset\">\r\n                    Reset\r\n         </button>\r\n        </form>\r\n        <h1>{{msg}}</h1>\r\n    </div>\r\n    <div v-else>\r\n      <h1> Geben Sie hier Ihr neues Passwort ein </h1>\r\n      <input type=\"password\" placeholder=\"Ihr Neues Passwort\" v-model=\"password\" required autofocus/>\r\n      <input type=\"password\" placeholder=\"Bestätigen Sie Passwort\" v-model=\"password_confirmation\" required autofocus/>\r\n         <button type=\"cancel\" @click=\"back\">\r\n                    Abbrechen\r\n         </button>\r\n         <button type=\"button\" @click=\"confirmNewPW\">\r\n                    Passwort ändern\r\n         </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//Komponente zum Zurücksetzen Passwort Kunde\r\nimport Helper from '../services/helper.service'\r\nimport Auth from '../services/auth.service'\r\nexport default {\r\n  data () {\r\n    return {\r\n      msg: '',\r\n      email: '',\r\n      resetPW: false,\r\n      password: '',\r\n      password_confirmation: ''\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    back () {\r\n      Helper.redirect('/')\r\n    },\r\n    //Rücksetz-Anfrage von Kundenpasswort an Backend gesendet\r\n    reset () {\r\n      this.resetPW = false\r\n\r\n      let mail = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$\")\r\n      if (mail.test(this.email) && this.email.length < 100) {\r\n        Auth.resetUserPW(this.email)\r\n          .then(response => {\r\n            if(response.data.success){\r\n              this.msg = 'Wenn ein Account mit dieser Email vorhanden ist, erhalten Sie darüber eine Nachricht mit Anweisungen zum Zurücksetzen Ihres Passwortes'\r\n              this.email = ''\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            Helper.handle(error)\r\n            Helper.redirect('/')\r\n          })\r\n      } else {\r\n        this.email = ''\r\n        this.msg = 'Invalid Email format'\r\n      }\r\n    },\r\n    //Verifizierung neues Passwort von Kunden durch Backend\r\n    confirmNewPW () {\r\n      let passTest = new RegExp('^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})')\r\n      if (this.password == this.password_confirmation) {\r\n        if (passTest.test(this.password) && this.password.length > 5 && this.password.length < 100) {\r\n          Auth.resetUserPWConfirmation(this.$route.params.id, this.$route.params.token, this.password)\r\n            .then(response => {\r\n              if(response.data.success){\r\n              alert('Das Passwort wurde erfolgreich zurückgesetzt')\r\n              Helper.redirect('/login')\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              Helper.handle(error)\r\n              Helper.redirect('/')\r\n            })\r\n        } else {\r\n          this.password = ''\r\n          this.password_confirmation = ''\r\n\r\n          return alert('Password is not safe enough')\r\n        }\r\n      } else {\r\n        this.password = ''\r\n        this.password_confirmation = ''\r\n\r\n        return alert('Passwords do not match')\r\n      }\r\n    }\r\n  },\r\n  beforeMount () {\r\n    if (this.$route.params.id != '' && this.$route.params.token != '') {\r\n      this.resetPW = true\r\n    } else {\r\n      this.resetPW = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh1, h2 {\r\n  font-weight: normal;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\nbutton {\r\n  background-color: #4CAF50; /* Green */\r\n  border: none;\r\n  color: white;\r\n  padding: 16px 32px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  width: 10%;\r\n  font-size: 14px;\r\n  margin: 4px 2px;\r\n  transition-duration: 0.4s;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n"]}]}