{"remainingRequest":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\vue-core-image-upload\\dist\\crop.vue?vue&type=template&id=35c5a66d&scoped=true","dependencies":[{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\vue-core-image-upload\\dist\\crop.vue","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtMzVjNWE2NmQiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTM1YzVhNjZkIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImltYWdlLWFzaWRlIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImctY3JvcC1pbWFnZS1ib3giCn07CnZhciBfaG9pc3RlZF8zID0gewogIGtleTogMCwKICBjbGFzczogImltYWdlLW1hc2siCn07Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBjbGFzczogInJlZmVyZW5jZS1saW5lIHYiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAicmVmZXJlbmNlLWxpbmUgaCIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X3Jlc2l6ZV9iYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgicmVzaXplLWJhciIpOwoKICB2YXIgX2NvbXBvbmVudF9yb3RhdGVfYmFyID0gX3Jlc29sdmVDb21wb25lbnQoInJvdGF0ZS1iYXIiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogImctY3JvcC1pbWFnZS1wcmluY2lwYWwiLAogICAgb25Ub3VjaHN0YXJ0OiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmRyYWcgJiYgJG9wdGlvbnMuZHJhZy5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pLAogICAgb25Nb3VzZWRvd246IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuZHJhZyAmJiAkb3B0aW9ucy5kcmFnLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogImltYWdlLXdyYXAiLAogICAgc3R5bGU6IHsKICAgICAgd2lkdGg6ICRkYXRhLndpZHRoICsgJ3B4JywKICAgICAgaGVpZ2h0OiAkZGF0YS5oZWlnaHQgKyAncHgnLAogICAgICBsZWZ0OiAkZGF0YS5sZWZ0ICsgJ3B4JywKICAgICAgdG9wOiAkZGF0YS50b3AgKyAncHgnLAogICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArICRkYXRhLnNyYyArICcpJywKICAgICAgY3Vyc29yOiAkcHJvcHMuaXNSZXNpemUgPyAnZGVmYXVsdCcgOiAnbW92ZScKICAgIH0KICB9LCBbX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgICByZWY6ICJjcm9wLWltYWdlIiwKICAgIHN0eWxlOiB7CiAgICAgICJ3aWR0aCI6ICIwIiwKICAgICAgImhlaWdodCI6ICIwIgogICAgfSwKICAgIHNyYzogJGRhdGEuc3JjCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInNyYyJdKV0sIDQKICAvKiBTVFlMRSAqLwogICksICEkcHJvcHMuaXNSZXNpemUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibWFzayB0b3AiLAogICAgc3R5bGU6IHsKICAgICAgdG9wOiAwLAogICAgICBoZWlnaHQ6ICRkYXRhLmNyb3BDU1MudG9wICsgJ3B4JywKICAgICAgbGVmdDogMCwKICAgICAgd2lkdGg6ICcxMDAlJwogICAgfQogIH0sIG51bGwsIDQKICAvKiBTVFlMRSAqLwogICksIF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJtYXNrIGJvdHRvbSIsCiAgICBzdHlsZTogewogICAgICBib3R0b206IDAsCiAgICAgIHRvcDogJGRhdGEuY3JvcENTUy50b3AgKyAkZGF0YS5jcm9wQ1NTLmhlaWdodCArICdweCcsCiAgICAgIGxlZnQ6IDAsCiAgICAgIHdpZHRoOiAnMTAwJScKICAgIH0KICB9LCBudWxsLCA0CiAgLyogU1RZTEUgKi8KICApLCBfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibWFzayBsZWZ0IiwKICAgIHN0eWxlOiB7CiAgICAgIHRvcDogJGRhdGEuY3JvcENTUy50b3AgKyAncHgnLAogICAgICBoZWlnaHQ6ICRkYXRhLmNyb3BDU1MuaGVpZ2h0ICsgJ3B4JywKICAgICAgbGVmdDogMCwKICAgICAgd2lkdGg6ICRkYXRhLmNyb3BDU1MubGVmdCArICdweCcKICAgIH0KICB9LCBudWxsLCA0CiAgLyogU1RZTEUgKi8KICApLCBfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibWFzayByaWdodCIsCiAgICBzdHlsZTogewogICAgICB0b3A6ICRkYXRhLmNyb3BDU1MudG9wICsgJ3B4JywKICAgICAgaGVpZ2h0OiAkZGF0YS5jcm9wQ1NTLmhlaWdodCArICdweCcsCiAgICAgIGxlZnQ6ICRkYXRhLmNyb3BDU1MubGVmdCArICRkYXRhLmNyb3BDU1Mud2lkdGggKyAncHgnLAogICAgICByaWdodDogMAogICAgfQogIH0sIG51bGwsIDQKICAvKiBTVFlMRSAqLwogICldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICEkcHJvcHMuaXNSZXNpemUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgIGtleTogMSwKICAgIGNsYXNzOiAiY3JvcC1ib3giLAogICAgc3R5bGU6IHsKICAgICAgdG9wOiAkZGF0YS5jcm9wQ1NTLnRvcCArICdweCcsCiAgICAgIGxlZnQ6ICRkYXRhLmNyb3BDU1MubGVmdCArICdweCcsCiAgICAgIGhlaWdodDogJGRhdGEuY3JvcENTUy5oZWlnaHQgKyAncHgnLAogICAgICB3aWR0aDogJGRhdGEuY3JvcENTUy53aWR0aCArICdweCcKICAgIH0KICB9LCBbX2hvaXN0ZWRfNCwgX2hvaXN0ZWRfNSwgX2NyZWF0ZVZOb2RlKCJhIiwgewogICAgY2xhc3M6ICJnLXJlc2l6ZSIsCiAgICBvblRvdWNoc3RhcnQ6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMucmVzaXplICYmICRvcHRpb25zLnJlc2l6ZS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0sIFsic2VsZiJdKSksCiAgICBvbk1vdXNlZG93bjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5yZXNpemUgJiYgJG9wdGlvbnMucmVzaXplLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSwgWyJzZWxmIl0pKQogIH0sIG51bGwsIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApXSwgNAogIC8qIFNUWUxFICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldLCAzMgogIC8qIEhZRFJBVEVfRVZFTlRTICovCiAgKSwgJG9wdGlvbnMucmVzaXplID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfcmVzaXplX2JhciwgewogICAga2V5OiAwLAogICAgcmVmOiAicmVzaXplQmFyIiwKICAgIG9uUmVzaXplOiAkb3B0aW9ucy5yZXNpemVJbWFnZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvblJlc2l6ZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRwcm9wcy5pc1JvdGF0ZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X3JvdGF0ZV9iYXIsIHsKICAgIGtleTogMSwKICAgIG9uUm90YXRlOiAkb3B0aW9ucy5yb3RhdGVJbWFnZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvblJvdGF0ZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pOwp9KTs="},{"version":3,"sources":["C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\vue-core-image-upload\\dist\\crop.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div class=\"image-aside\">\n  <div class=\"g-crop-image-box\" >\n    <div class=\"g-crop-image-principal\" v-on:touchstart=\"drag\" v-on:mousedown=\"drag\">\n      <div class=\"image-wrap\"  :style=\"{ width: width + 'px',height: height + 'px', left: left+ 'px', top: top + 'px', backgroundImage: 'url(' + src + ')', cursor: isResize ? 'default' : 'move'}\">\n        <img ref=\"crop-image\" style=\"width:0;height:0;\" :src=\"src\" />\n      </div>\n      <div class=\"image-mask\" v-if=\"!isResize\">\n        <div class=\"mask top\" :style=\"{ top:0, height: cropCSS.top + 'px', left: 0, width: '100%'}\"></div>\n        <div class=\"mask bottom\" :style=\"{ bottom:0, top: (cropCSS.top + cropCSS.height) + 'px', left: 0, width: '100%'}\"></div>\n        <div class=\"mask left\" :style=\"{top: cropCSS.top + 'px', height: cropCSS.height + 'px', left:0, width: cropCSS.left + 'px'}\"></div>\n        <div class=\"mask right\" :style=\"{top: cropCSS.top + 'px', height: cropCSS.height + 'px', left: (cropCSS.left + cropCSS.width) + 'px', right: 0}\"></div>\n      </div>\n      <div class=\"crop-box\" v-if=\"!isResize\" :style=\"{top: cropCSS.top + 'px', left: cropCSS.left + 'px', height: cropCSS.height + 'px',  width: cropCSS.width + 'px'}\">\n        <div class=\"reference-line v\"></div>\n        <div class=\"reference-line h\"></div>\n        <a class=\"g-resize\" v-on:touchstart.self=\"resize\" v-on:mousedown.self=\"resize\"></a>\n      </div>\n    </div>\n    <resize-bar v-if=\"resize\" ref=\"resizeBar\" @resize=\"resizeImage\"></resize-bar>\n    <rotate-bar v-if=\"isRotate\" @rotate=\"rotateImage\"></rotate-bar>\n  </div>\n</div>\n</template>\n\n<style scoped>\n.g-crop-image-principal{\n  overflow: hidden;\n  position: relative;\n  background-color: #fff;\n  background-image: -webkit-linear-gradient(bottom left, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef),-webkit-linear-gradient(bottom left, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef);\n  background-image: -moz-linear-gradient(bottom left, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef),-moz-linear-gradient(bottom left, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef);\n  background-image: -o-linear-gradient(bottom left, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef),-o-linear-gradient(bottom left, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef);\n  background-image: linear-gradient(to top right, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef),linear-gradient(to top right, #efefef 25%, transparent 25%, transparent 75%, #efefef 75%, #efefef);\n  background-position: 0 0,10px 10px;\n  -webkit-background-size: 21px 21px;\n  background-size: 21px 21px;\n}\n.image-aside{\n  overflow: hidden;\n  position: absolute;\n  right: 30px;\n  left:30px;\n  top:70px;\n  bottom:40px;\n  text-align: center;\n}\n.image-aside .image-wrap{\n  position: absolute;\n  left: 0;\n  top: 0;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  box-shadow: 0 3px 5px -2px rgba(0,0,0,.25);\n  background-size: cover;\n}\n.image-mask{\n  position: absolute;\n  left: 0;\n  top: 0;\n  width:100%;\n  height: 100%;\n}\n.image-mask .mask {\n  position: absolute;\n  background-color: rgba(255,255,255,.6);\n}\n.crop-box{\n  z-index: 2000;\n  box-sizing: border-box;\n  position: absolute;\n  background: none;\n  cursor: move;\n  width:100px;\n  height: 100px;\n  border:1px solid rgba(255,255,255, .95);\n}\n.crop-box:after,\n.crop-box:before{\n  content: '';\n  display: block;\n  opacity: 0;\n  position: absolute;\n  left: 33.3333%;\n  top: 0;\n  width: 33.334%;\n  height: 100%;\n  background-color: transparent;\n  border-color: rgba(255,255,255,.7);\n  border-style: solid;\n  border-width: 0;\n}\n.crop-box:active::before,\n.crop-box:active::after{\n  opacity: 1;\n}\n.crop-box:before{\n  border-left-width: 1px;\n  border-right-width: 1px;\n}\n.crop-box:after{\n  top: 33.3333%;\n  left: 0;\n  height: 33.3334%;\n  width: 100%;\n  border-top-width: 1px;\n  border-bottom-width: 1px;\n\n}\n.crop-box .g-resize{\n  display: inline-block;\n  z-index: 1910;\n  position: absolute;\n  bottom: -8px;\n  right: -8px;\n  width: 16px;\n  height: 16px;\n  cursor: se-resize;\n  border-radius: 10px;\n  background-color: #fff;\n  box-shadow: 0 2px 4px -2px rgba(0,0,0,.25);\n}\n</style>\n\n<script>\nimport drag from './lib/drag';\nimport resize from './lib/resize';\nimport GIF_LOADING_SRC from './lib/loading-gif';\nimport helper from './lib/helper';\nimport canvasHelper from './lib/canvas-helper';\nimport ResizeBar from './resize-bar.vue';\nimport RotateBar from './rotate-bar.vue';\n// set cropbox size in image\nconst CROPBOX_PERCENT = 75;\nconst isMobile = helper.isMobile;\nconst areaWidth = window.innerWidth - 60;\nconst areaHeight = window.innerHeight - 110;\nexport default {\n  components: {\n    ResizeBar,\n    RotateBar,\n  },\n  props: {\n    ratio: {\n      type: String,\n      default: '1:1'\n    },\n    minWidth: {\n      type: Number,\n      default: 50,\n    },\n    minHeight: {\n      type: Number,\n      default: 50,\n    },\n    isResize: {\n      type: [Boolean],\n      default: false,\n    },\n    isRotate: {\n      type: [Boolean],\n      default: true,\n    }\n  },\n\n  data() {\n    return {\n      src: GIF_LOADING_SRC,\n      width: 24,\n      height: 24,\n      initWidth: 24,\n      initHeight: 24,\n      left: 0,\n      top: 0,\n      cropCSS: {\n\n      }\n    }\n  },\n\n  methods: {\n    setImage(src, w, h) {\n      this.src = src;\n      if (!this.originSrc) {\n        this.setOriginalSrc(this.src);\n      }\n      if (this.ratio.indexOf(':') > 0) {\n        this.ratioW = this.ratio.split(':')[0];\n        this.ratioH = this.ratio.split(':')[1];\n        this.ratioVal = this.ratioW / this.ratioH;\n      } else {\n        this.ratioW = 1;\n        this.ratioH = 1;\n        this.ratioVal = this.ratio;\n      }\n      this.natrualWidth = w;\n      this.natrualHeight = h;\n      this.setLayout(w, h);\n      const resizeBar = this.$refs.resizeBar;\n      if (this.isResize) {\n        resizeBar.setProgress(100);\n      } else {\n        resizeBar.setProgress(50);\n      }\n      return this.imgChangeRatio;\n    },\n\n    setOriginalSrc(src) {\n      this.originSrc = src;\n    },\n\n    resizeImage(progress) {\n      let w,\n          h;\n      if (this.isResize) {\n        w = this.natrualWidth * this.imgChangeRatio * progress;\n        h = this.natrualHeight * this.imgChangeRatio * progress;\n      } else {\n        w = this.initWidth + progress * (this.natrualWidth - this.initWidth);\n        h = this.initHeight + progress * (this.natrualHeight - this.initHeight);\n      }\n      if (w <= this.minWidth || h < this.minHeight) {\n        return;\n      }\n      this.left += (this.width - w) / 2;\n      this.top += (this.height - h) / 2;\n      this.width = w;\n      this.height = h;\n      this.imgChangeRatio = this.width / this.natrualWidth;\n    },\n\n    rotateImage(degress) {\n      const data = canvasHelper.rotate2(this.originSrc, degress, (data, w, h) => {\n        this.setImage(data, w, h);\n      });\n      //this.src = src;\n    },\n\n    setLayout(w, h) {\n      let H = areaHeight,\n          W = areaWidth,\n          width = w,\n          height = h,\n          marginLeft = 0,\n          marginTop = 0;\n      // caculate the image ratio\n      let R = width / height;\n      let Rs = W / H;\n      if (R > Rs) {\n        height = H;\n        width = H * R;\n        marginLeft = (W - H * R) / 2;\n      } else {\n        width =  H * R,\n        height = H;\n        marginLeft = (W - H * R) / 2;\n      }\n      this._setStyle(width, height, marginLeft, marginTop, R, true);\n    },\n\n    _setStyle(w, h, ml, mt, r, isInit) {\n      const $container = this.$el.querySelector('.g-crop-image-principal');\n      if(!isInit) {\n        this.marginLeft = this.marginLeft + (this.width - w) / 2;\n        this.marginTop = this.marginTop + (this.height - h) / 2;\n      }\n      $container.style.cssText = 'width:' + w + 'px;height:' + h + 'px;margin-left:'\n      + ml + 'px;' + 'margin-top:' + mt + 'px';\n      this.setCropBox(w, h);\n      if (this.isResize) {\n        this.width = w;\n        this.height = h;\n      } else {\n        if (r >= this.cropCSS.width/this.cropCSS.height) {\n          this.height = this.cropCSS.height;\n          this.width = this.height * r;\n        } else {\n          this.width = this.cropCSS.width;\n          this.height = this.width / r;\n        }\n        this.initWidth = this.width;\n        this.initHeight = this.height;\n        this.left = (w - this.width) / 2;\n        this.top = (h - this.height) / 2;\n      }\n      this.imgChangeRatio = this.width / this.natrualWidth;\n    },\n\n    setCropBox(w, h, r) {\n      if (this.isResize) {\n        return;\n      }\n      let $selectCropBox = this.__find('.crop-box');\n      let $wrap = this.$el;\n      let imageWidth = w,\n          imageHeight = h,\n          ratioW = this.ratioW,\n          ratioH = this.ratioH;\n      let cropWidth = imageWidth;\n      if (areaWidth < w) {\n        cropWidth = areaWidth;\n      }\n      const baseCropWidth = (cropWidth / 100) * CROPBOX_PERCENT;\n      const CSSObj = {\n        width: baseCropWidth,\n        height: (baseCropWidth / ratioW) * ratioH,\n      }\n      CSSObj.left = (imageWidth - baseCropWidth) / 2;\n      CSSObj.top = (imageHeight - CSSObj.height) / 2;\n      $selectCropBox.style.cssText = helper.setCssText(CSSObj);\n      if (CSSObj.height > imageHeight) {\n        const baseCropHeight = (imageHeight / 100) * CROPBOX_PERCENT\n        CSSObj.height = baseCropHeight;\n        CSSObj.width = (CSSObj.height * ratioW) / ratioH;\n        CSSObj.left = (imageWidth - CSSObj.width) / 2,\n        CSSObj.top = (imageHeight - CSSObj.height) / 2,\n        $selectCropBox.style.cssText = helper.setCssText(CSSObj);\n      };\n      this.cropCSS = CSSObj;\n\n    },\n\n    getCropData() {\n      // keep compatible with old api\n      if (this.isResize) {\n        return {\n          imgChangeRatio: this.imgChangeRatio,\n          toCropImgX: 0,\n          toCropImgY: 0,\n          toCropImgW: this.natrualWidth,\n          toCropImgH: this.natrualHeight,\n        };\n      }\n      return {\n        toCropImgX: (this.cropCSS.left - this.left) / this.imgChangeRatio,\n        toCropImgY: (this.cropCSS.top - this.top) / this.imgChangeRatio,\n        toCropImgW: this.cropCSS.width / this.imgChangeRatio,\n        toCropImgH: this.cropCSS.height / this.imgChangeRatio,\n      };\n    },\n\n    getCropImage() {\n      return this.$refs['crop-image'];\n    },\n\n    __find(str) {\n      let dq = this.$el;\n      return dq.querySelector(str);\n    },\n    // resize and drag move\n    resize(e) {\n      e.stopPropagation();\n      if (!this.ratio.indexOf(':')) {\n          return;\n      }\n      let $el = e.target.parentElement;\n      let $container = this.__find('.g-crop-image-principal');\n      if (this._$container) {\n        this._$container = container;\n      }\n      const self = this;\n      const coor = {\n        x: helper.isMobile ? e.touches[0].clientX : e.clientX,\n        y: helper.isMobile ? e.touches[0].clientY : e.clientY,\n        w: $el.offsetWidth,\n        h: $el.offsetHeight,\n      };\n      this.el = $el;\n      this.container = $container;\n      const maxCoor = this._getMaxCropAreaWidth();\n      const move = function (ev) {\n        const newCropStyle = resize(ev, self.el, $container, coor, self.ratioVal);\n        if (newCropStyle && newCropStyle.width <= maxCoor.maxWidth && newCropStyle.height <= maxCoor.maxHeight) {\n          self.cropCSS.width = newCropStyle.width;\n          self.cropCSS.height = newCropStyle.height;\n        }\n      };\n      const end = function (ev) {\n        this.el = null;\n        if (helper.isMobile) {\n          document.removeEventListener('touchmove', move, false);\n          document.removeEventListener('touchend', end, false);\n        }\n        document.removeEventListener('mousemove', move, false);\n        document.removeEventListener('mouseup', end, false);\n      };\n      if (helper.isMobile) {\n        document.addEventListener('touchmove', move, false);\n        document.addEventListener('touchend', end, false);\n      }\n      document.addEventListener('mousemove', move, false);\n      document.addEventListener('mouseup', end, false);\n    },\n\n    _getMaxCropAreaWidth() {\n      const $image = this.__find('.image-wrap');\n      const $cropBox = this.__find('.crop-box');\n\n      const imageLeft = parseFloat($image.style.left);\n      const imageTop = parseFloat($image.style.top);\n      const imageWidth = parseFloat($image.style.width);\n      const imageHeight = parseFloat($image.style.height);\n      const cropBoxLeft = parseFloat($cropBox.style.left);\n      const cropBoxTop = parseFloat($cropBox.style.top);\n\n      const maxWidth = imageWidth - (cropBoxLeft - imageLeft);\n      const maxHeight = imageHeight - (cropBoxTop - imageTop);\n\n      return {\n        maxWidth,\n        maxHeight,\n      };\n    },\n\n    drag(e) {\n      e.preventDefault();\n      const $el = this.__find('.image-wrap');\n      this.el = $el;\n      const $cropBox = this.__find('.crop-box');\n      const $container = e.currentTarget;\n      const self = this;\n      const isMobile = helper.isMobile;\n      const coor = {\n        x: (isMobile ? e.touches[0]['clientX'] : e.clientX) - $el.offsetLeft,\n        y: (isMobile ? e.touches[0]['clientY'] : e.clientY) - $el.offsetTop,\n        maxLeft: $cropBox.offsetLeft,\n        maxTop: $cropBox.offsetTop,\n        minLeft: ($cropBox.offsetWidth + $cropBox.offsetLeft) - $el.offsetWidth,\n        minTop: ($cropBox.offsetHeight + $cropBox.offsetTop) - $el.offsetHeight,\n      };\n      const move = function (ev) {\n        const newCropStyle = drag(ev, self.el, coor);\n        if (newCropStyle) {\n          self.left = newCropStyle.left;\n          self.top = newCropStyle.top;\n        }\n      };\n      const stopMove = function (ev) {\n        self.el = null;\n        if (isMobile) {\n          document.removeEventListener('touchmove', move, false);\n          document.removeEventListener('touchend', stopMove, false);\n          return;\n        }\n        document.removeEventListener('mousemove', move, false);\n        document.removeEventListener('mouseup', stopMove, false);\n      };\n      if (isMobile) {\n        document.addEventListener('touchmove', move, false);\n        document.addEventListener('touchend', stopMove, false);\n        return;\n      }\n      document.addEventListener('mousemove', move, false);\n      document.addEventListener('mouseup', stopMove, false);\n    },\n  },\n\n}\n</script>\n"],"sourceRoot":""}]}