{"remainingRequest":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\Reset.vue?vue&type=template&id=6766c9cf&scoped=true","dependencies":[{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\Reset.vue","mtime":1609762382614},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtNjc2NmM5Y2YiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTY3NjZjOWNmIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAKfTsKCnZhciBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaDEiLCBudWxsLCAiR2ViZW4gU2llIGRpZSBFbWFpbCBlaW4sIGRpZSBtaXQgZGVtIEFjY291bnQgdmVya27DvHBmdCBpc3QsIGRlc3NlbiBQYXNzd29ydCBTaWUgenVyw7xja3NldHplbiBtw7ZjaHRlbiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8zID0gewogIGtleTogMQp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJoMSIsIG51bGwsICIgR2ViZW4gU2llIGhpZXIgSWhyIG5ldWVzIFBhc3N3b3J0IGVpbiAiLCAtMQovKiBIT0lTVEVEICovCik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuICEkZGF0YS5yZXNldFBXID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZVZOb2RlKCJmb3JtIiwgbnVsbCwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogImVtYWlsIiwKICAgIHBsYWNlaG9sZGVyOiAiRW1haWwiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLmVtYWlsID0gJGV2ZW50OwogICAgfSksCiAgICByZXF1aXJlZDogIiIsCiAgICBhdXRvZm9jdXM6ICIiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLmVtYWlsXV0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIHR5cGU6ICJjYW5jZWwiLAogICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5iYWNrICYmICRvcHRpb25zLmJhY2suYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICIgWnVydWVjayAiKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMucmVzZXQgJiYgJG9wdGlvbnMucmVzZXQuYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICIgUmVzZXQgIildKSwgX2NyZWF0ZVZOb2RlKCJoMSIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEubXNnKSwgMQogIC8qIFRFWFQgKi8KICApXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2hvaXN0ZWRfNCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgcGxhY2Vob2xkZXI6ICJJaHIgTmV1ZXMgUGFzc3dvcnQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLnBhc3N3b3JkID0gJGV2ZW50OwogICAgfSksCiAgICByZXF1aXJlZDogIiIsCiAgICBhdXRvZm9jdXM6ICIiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLnBhc3N3b3JkXV0pLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICBwbGFjZWhvbGRlcjogIkJlc3TDpHRpZ2VuIFNpZSBQYXNzd29ydCIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEucGFzc3dvcmRfY29uZmlybWF0aW9uID0gJGV2ZW50OwogICAgfSksCiAgICByZXF1aXJlZDogIiIsCiAgICBhdXRvZm9jdXM6ICIiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRkYXRhLnBhc3N3b3JkX2NvbmZpcm1hdGlvbl1dKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAiY2FuY2VsIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuYmFjayAmJiAkb3B0aW9ucy5iYWNrLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiIEFiYnJlY2hlbiAiKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuY29uZmlybU5ld1BXICYmICRvcHRpb25zLmNvbmZpcm1OZXdQVy5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIiBQYXNzd29ydCDDpG5kZXJuICIpXSkpOwp9KTs="},{"version":3,"sources":["C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\Reset.vue"],"names":[],"mappings":";;;;;;;;;;8BAEQ,YAAA,CAA6G,IAA7G,EAA6G,IAA7G,EAAI,sGAAJ,EAAwG,CAAA;AAAA;AAAxG,C;;;;;;8BAaF,YAAA,CAAgD,IAAhD,EAAgD,IAAhD,EAAI,yCAAJ,EAA2C,CAAA;AAAA;AAA3C,C;;;;;UAdU,KAAA,CAAA,O,kBAAZ,YAAA,CAYM,KAZN,EAYM,UAZN,EAYM,CAXF,UAWE,EAVF,YAAA,CAQO,MARP,EAQO,IARP,EAQO,C,gBAPN,YAAA,CAA4E,OAA5E,EAA4E;AAArE,IAAA,IAAI,EAAC,OAAgE;AAAxD,IAAA,WAAW,EAAC,OAA4C;;aAA3B,KAAA,CAAA,KAAA,GAAK,M;MAAsB;AAApB,IAAA,QAAQ,EAAR,EAAoB;AAAX,IAAA,SAAS,EAAT;AAAW,GAA5E,E,IAAA,E;;AAAA,G,iBAAiD,KAAA,CAAA,K,GAO3C,EANN,YAAA,CAES,QAFT,EAES;AAFD,IAAA,IAAI,EAAC,QAEJ;AAFc,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,IAAA,IAAA,QAAA,CAAA,IAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAEnB,GAFT,EAAoC,WAApC,CAMM,EAHN,YAAA,CAES,QAFT,EAES;AAFD,IAAA,IAAI,EAAC,QAEJ;AAFc,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,KAAA,IAAA,QAAA,CAAA,KAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAEnB,GAFT,EAAqC,SAArC,CAGM,CARP,CAUE,EADF,YAAA,CAAgB,IAAhB,EAAgB,IAAhB,EAAgB,gBAAA,CAAV,KAAA,CAAA,GAAU,CAAhB,EAAS;AAAA;AAAT,GACE,CAZN,C,mBAaA,YAAA,CAUM,KAVN,EAUM,UAVN,EAUM,CATJ,UASI,E,gBARJ,YAAA,CAA+F,OAA/F,EAA+F;AAAxF,IAAA,IAAI,EAAC,UAAmF;AAAxE,IAAA,WAAW,EAAC,oBAA4D;;aAA9B,KAAA,CAAA,QAAA,GAAQ,M;MAAsB;AAApB,IAAA,QAAQ,EAAR,EAAoB;AAAX,IAAA,SAAS,EAAT;AAAW,GAA/F,E,IAAA,E;;AAAA,G,iBAAiE,KAAA,CAAA,Q,GAQ7D,E,gBAPJ,YAAA,CAAiH,OAAjH,EAAiH;AAA1G,IAAA,IAAI,EAAC,UAAqG;AAA1F,IAAA,WAAW,EAAC,yBAA8E;;aAA3C,KAAA,CAAA,qBAAA,GAAqB,M;MAAsB;AAApB,IAAA,QAAQ,EAAR,EAAoB;AAAX,IAAA,SAAS,EAAT;AAAW,GAAjH,E,IAAA,E;;AAAA,G,iBAAsE,KAAA,CAAA,qB,GAOlE,EAND,YAAA,CAES,QAFT,EAES;AAFD,IAAA,IAAI,EAAC,QAEJ;AAFc,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,IAAA,IAAA,QAAA,CAAA,IAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAEnB,GAFT,EAAoC,aAApC,CAMC,EAHD,YAAA,CAES,QAFT,EAES;AAFD,IAAA,IAAI,EAAC,QAEJ;AAFc,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,QAAA,CAAA,YAAA,IAAA,QAAA,CAAA,YAAA,OAAA,QAAA,YAAF;AAAA,KAAA;AAEnB,GAFT,EAA4C,mBAA5C,CAGC,CAVN,C","sourcesContent":["<template>\r\n    <div v-if=\"!resetPW\">\r\n        <h1>Geben Sie die Email ein, die mit dem Account verknüpft ist, dessen Passwort Sie zurücksetzen möchten</h1>\r\n        <form>\r\n         <input type=\"email\" placeholder=\"Email\" v-model=\"email\" required autofocus/>\r\n         <button type=\"cancel\" @click=\"back\">\r\n                    Zurueck\r\n         </button>\r\n         <button type=\"button\" @click=\"reset\">\r\n                    Reset\r\n         </button>\r\n        </form>\r\n        <h1>{{msg}}</h1>\r\n    </div>\r\n    <div v-else>\r\n      <h1> Geben Sie hier Ihr neues Passwort ein </h1>\r\n      <input type=\"password\" placeholder=\"Ihr Neues Passwort\" v-model=\"password\" required autofocus/>\r\n      <input type=\"password\" placeholder=\"Bestätigen Sie Passwort\" v-model=\"password_confirmation\" required autofocus/>\r\n         <button type=\"cancel\" @click=\"back\">\r\n                    Abbrechen\r\n         </button>\r\n         <button type=\"button\" @click=\"confirmNewPW\">\r\n                    Passwort ändern\r\n         </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//Komponente zum Zurücksetzen Passwort Kunde\r\nimport Helper from '../services/helper.service'\r\nimport Auth from '../services/auth.service'\r\nexport default {\r\n  data () {\r\n    return {\r\n      msg: '',\r\n      email: '',\r\n      resetPW: false,\r\n      password: '',\r\n      password_confirmation: ''\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    back () {\r\n      Helper.redirect('/')\r\n    },\r\n    //Rücksetz-Anfrage von Kundenpasswort an Backend gesendet\r\n    reset () {\r\n      this.resetPW = false\r\n\r\n      let mail = new RegExp(\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$\")\r\n      if (mail.test(this.email) && this.email.length < 100) {\r\n        Auth.resetUserPW(this.email)\r\n          .then(response => {\r\n            if(response.data.success){\r\n              this.msg = 'Wenn ein Account mit dieser Email vorhanden ist, erhalten Sie darüber eine Nachricht mit Anweisungen zum Zurücksetzen Ihres Passwortes'\r\n              this.email = ''\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            Helper.handle(error)\r\n            Helper.redirect('/')\r\n          })\r\n      } else {\r\n        this.email = ''\r\n        this.msg = 'Invalid Email format'\r\n      }\r\n    },\r\n    //Verifizierung neues Passwort von Kunden durch Backend\r\n    confirmNewPW () {\r\n      let passTest = new RegExp('^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})')\r\n      if (this.password == this.password_confirmation) {\r\n        if (passTest.test(this.password) && this.password.length > 5 && this.password.length < 100) {\r\n          Auth.resetUserPWConfirmation(this.$route.params.id, this.$route.params.token, this.password)\r\n            .then(response => {\r\n              if(response.data.success){\r\n              alert('Das Passwort wurde erfolgreich zurückgesetzt')\r\n              Helper.redirect('/login')\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              Helper.handle(error)\r\n              Helper.redirect('/')\r\n            })\r\n        } else {\r\n          this.password = ''\r\n          this.password_confirmation = ''\r\n\r\n          return alert('Password is not safe enough')\r\n        }\r\n      } else {\r\n        this.password = ''\r\n        this.password_confirmation = ''\r\n\r\n        return alert('Passwords do not match')\r\n      }\r\n    }\r\n  },\r\n  beforeMount () {\r\n    if (this.$route.params.id != '' && this.$route.params.token != '') {\r\n      this.resetPW = true\r\n    } else {\r\n      this.resetPW = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh1, h2 {\r\n  font-weight: normal;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\nbutton {\r\n  background-color: #4CAF50; /* Green */\r\n  border: none;\r\n  color: white;\r\n  padding: 16px 32px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  width: 10%;\r\n  font-size: 14px;\r\n  margin: 4px 2px;\r\n  transition-duration: 0.4s;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":""}]}