{"remainingRequest":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\BestellungenKu.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\BestellungenKu.vue","mtime":1609779570936},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vIEhpZXIgd2lyZCBmdWVyIE1pdGFyYmVpdGVyL0FkbWluIGFsbGVzIGJ6Z2wuIEJlc3RlbGx1bmdlbiBhbmdlemVpZ3QvZGVmaW5pZXJ0CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy91c2VyLnNlcnZpY2UiOwppbXBvcnQgSGVscGVyIGZyb20gIi4uL3NlcnZpY2VzL2hlbHBlci5zZXJ2aWNlIjsKaW1wb3J0IEF1dGggZnJvbSAiLi4vc2VydmljZXMvYXV0aC5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdXNnZXdhZWhsdDogZmFsc2UsCiAgICAgIG1zZzogJycsCiAgICAgIGJlc3RlbGx1bmdlbjogW10sCiAgICAgIGdld2FlaGx0ZUJlc3RlbGx1bmc6ICcnLAogICAgICBiZXN0ZWxsa29zdGVuOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIHp1cnVlY2sgenVyIGFsbGdlbWVpbmVuIEJlc3RlbGx1ZXViZXJzaWNodAogICAgYmFjazogZnVuY3Rpb24gYmFjaygpIHsKICAgICAgdGhpcy5hdXNnZXdhZWhsdCA9IGZhbHNlOwogICAgICB0aGlzLm1zZyA9ICJBbGxlIEJlc3RlbGx1bmdlbiI7CiAgICAgIHRoaXMuaG9sZUJlc3RlbGx1bmdlbigpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Rhc2hib2FyZC9iZXN0ZWxsdW5nZW4iKTsKICAgIH0sCiAgICAvLyBiZXN0ZWxsdW5nIGFiYnJlY2hlbgogICAgYWJicmVjaGVuOiBmdW5jdGlvbiBhYmJyZWNoZW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaGV1dGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSh0aGlzLmdld2FlaGx0ZUJlc3RlbGx1bmcuc3RhcnRkYXR1bSk7CiAgICAgIHZhciBvbmVEYXkgPSAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyBob3VycyptaW51dGVzKnNlY29uZHMqbWlsbGlzZWNvbmRzCgogICAgICB2YXIgZGlmZkRheXMgPSBNYXRoLmZsb29yKChzdGFydC5nZXRUaW1lKCkgLSBoZXV0ZS5nZXRUaW1lKCkpIC8gb25lRGF5KTsKCiAgICAgIGlmIChjb25maXJtKCJNZW9jaHRlbiBTaWUgZGllIEJlc3RlbGx1bmcgd2lya2xpY2ggYWJicmVjaGVuPyIpKSB7CiAgICAgICAgaWYgKGRpZmZEYXlzIDwgOCkgewogICAgICAgICAgdmFyIHplaXQgPSBuZXcgRGF0ZSh0aGlzLmdld2FlaGx0ZUJlc3RlbGx1bmcuemVpdHN0ZW1wZWwpOwogICAgICAgICAgZGlmZkRheXMgPSBNYXRoLmZsb29yKChoZXV0ZS5nZXRUaW1lKCkgLSB6ZWl0LmdldFRpbWUoKSkgLyBvbmVEYXkpOwoKICAgICAgICAgIGlmIChkaWZmRGF5cyA8IDQpIHsKICAgICAgICAgICAgdGhpcy5nZXdhZWhsdGVCZXN0ZWxsdW5nLnN0YXR1cyA9IDM7CiAgICAgICAgICAgIEF1dGgudXBkYXRlU3RhdHVzT3JkZXIodGhpcy4kcm91dGUucGFyYW1zLmJuciwgMykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICBhbGVydCgiQmVzdGVsbHVuZyB3dXJkZSBlcmZvbGdyZWljaCBhYmdlYnJvY2hlbi4iKTsKICAgICAgICAgICAgICAgIF90aGlzLmF1c2dld2FlaGx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICAgICAgSGVscGVyLnJlZGlyZWN0KCIvZGFzaGJvYXJkL2Jlc3RlbGx1bmdlbiIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgSGVscGVyLmhhbmRsZShlcnJvcik7CiAgICAgICAgICAgICAgX3RoaXMuYXVzZ2V3YWVobHQgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICAgIEhlbHBlci5yZWRpcmVjdCgiL2Rhc2hib2FyZC9iZXN0ZWxsdW5nZW4iKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL1N0cmFmZSBpbiBGb3JtIHZvbiAxMCUgZGVyIEJlc3RlbGxrb3N0ZW4gZGVzIHp1IG1pZXRlbmRlbiBBdXRvcyAKICAgICAgICAgICAgdmFyIGtvc3RlbiA9IDA7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmVzdGVsbGtvc3Rlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmICh0aGlzLmJlc3RlbGxrb3N0ZW5baV0udHlwID09IDApIHsKICAgICAgICAgICAgICAgIGtvc3RlbiA9IHRoaXMuYmVzdGVsbGtvc3RlbltpXS5tZW5nZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjb25maXJtKCJTaW5kIFNpZSBzaWNoZXI/IEVzIHdpcmQgd2VnZW4gZGVyIGt1cnpmcmlzdGlnbiBBYnNhZ2UgZWluZSBTdHJhZnphaGx1bmcgaW4gSG9laGUgdm9uICIgKyBrb3N0ZW4gLyAxMDAgKiAxMCArICLigqwgZmFlbGxpZyIpKSB7CiAgICAgICAgICAgICAgdGhpcy5nZXdhZWhsdGVCZXN0ZWxsdW5nLnN0YXR1cyA9IDI7CiAgICAgICAgICAgICAgQXV0aC51cGRhdGVTdGF0dXNPcmRlcih0aGlzLiRyb3V0ZS5wYXJhbXMuYm5yLCAyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBBdXRoLmFkZENvc3QoX3RoaXMuJHJvdXRlLnBhcmFtcy5ibnIsIDUsIGtvc3RlbiAvIDEwMCAqIDEwLCAnU3RyYWZrb3N0ZW4gZnVlciBrdXJ6ZnJpc3RpZ2VzIEFiYnJlY2hlbicpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkJlc3RlbGx1bmcgd3VyZGUgYWJnZWJyb2NoZW4uIEplZG9jaCBtdWVzc2VuIFNpZSBlaW5lIFN0cmFmZSB6YWhsZW4iKTsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmF1c2dld2FlaGx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICAgICAgICAgICAgSGVscGVyLnJlZGlyZWN0KCIvZGFzaGJvYXJkL2Jlc3RlbGx1bmdlbiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgSGVscGVyLmhhbmRsZShlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXVzZ2V3YWVobHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICAgICAgICAgIEhlbHBlci5yZWRpcmVjdCgiL2Rhc2hib2FyZC9iZXN0ZWxsdW5nZW4iKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBIZWxwZXIuaGFuZGxlKGVycm9yKTsKICAgICAgICAgICAgICAgIF90aGlzLmF1c2dld2FlaGx0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICAgICAgSGVscGVyLnJlZGlyZWN0KCIvZGFzaGJvYXJkL2Jlc3RlbGx1bmdlbiIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZ2V3YWVobHRlQmVzdGVsbHVuZy5zdGF0dXMgPSAzOwogICAgICAgICAgQXV0aC51cGRhdGVTdGF0dXNPcmRlcih0aGlzLiRyb3V0ZS5wYXJhbXMuYm5yLCAzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgYWxlcnQoIkJlc3RlbGx1bmcgd3VyZGUgZXJmb2xncmVpY2ggYWJnZWJyb2NoZW4uIik7CiAgICAgICAgICAgICAgX3RoaXMuYXVzZ2V3YWVobHQgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICAgIEhlbHBlci5yZWRpcmVjdCgiL2Rhc2hib2FyZC9iZXN0ZWxsdW5nZW4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIEhlbHBlci5oYW5kbGUoZXJyb3IpOwogICAgICAgICAgICBfdGhpcy5hdXNnZXdhZWhsdCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpcy5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgICBIZWxwZXIucmVkaXJlY3QoIi9kYXNoYm9hcmQvYmVzdGVsbHVuZ2VuIik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyB6dXIgZGV0YWlsbGllcnRlbiBCZXN0ZWxsw7xiZXJzaWNodCB3ZWNoc2VsbgogICAgc2hvd09yZGVyOiBmdW5jdGlvbiBzaG93T3JkZXIoYm5yKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5hdXNnZXdhZWhsdCA9IHRydWU7CiAgICAgIHRoaXMubXNnID0gIkJlc3RlbGx1bmc6ICIgKyBibnI7CiAgICAgIHRoaXMuZ2V3YWVobHRlQmVzdGVsbHVuZyA9IHRoaXMuYmVzdGVsbHVuZ2VuLmZpbmQoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZWxlbWVudC5ibnIgPT0gYm5yOwogICAgICB9KTsKICAgICAgdGhpcy5iZXN0ZWxsa29zdGVuID0gW107CiAgICAgIFVzZXJTZXJ2aWNlLmdldE9yZGVyQ29zdChibnIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmVzcG9uc2UuZGF0YS5jb3N0cy5mb3JFYWNoKGZ1bmN0aW9uIChjb3N0KSB7CiAgICAgICAgICBfdGhpczIuYmVzdGVsbGtvc3Rlbi5wdXNoKGNvc3QpOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkL2Jlc3RlbGx1bmdlbi8iICsgYm5yKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgSGVscGVyLmhhbmRsZShlcnJvcik7CiAgICAgICAgX3RoaXMyLmF1c2dld2FlaGx0ID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLm1zZyA9ICJBbGxlIEJlc3RlbGx1bmdlbiI7CiAgICAgICAgSGVscGVyLnJlZGlyZWN0KCIvZGFzaGJvYXJkL2Jlc3RlbGx1bmdlbi8iKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gYWxsZSBiZXN0ZWxsdW5nZW4gdm9uIGJhY2tlbmQgaG9sZW4KICAgIGhvbGVCZXN0ZWxsdW5nZW46IGZ1bmN0aW9uIGhvbGVCZXN0ZWxsdW5nZW4oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuYmVzdGVsbHVuZ2VuLmxlbmd0aCA8IDEpIHsKICAgICAgICBVc2VyU2VydmljZS5nZXRPcmRlcigiYWxsZSIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZS5kYXRhLm9yZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChvcmRlcikgewogICAgICAgICAgICBfdGhpczMuYmVzdGVsbHVuZ2VuLnB1c2gob3JkZXIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gSGVscGVyLmhhbmRsZShlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBzdGF0dXMgaW4gdGV4dCB1bXdhbmRlbG4KICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKF9zdGF0dXMpIHsKICAgICAgaWYgKF9zdGF0dXMgPT0gMCkgewogICAgICAgIHJldHVybiAnV2FydGV0IGF1ZiBCZXN0YWV0aWd1bmcnOwogICAgICB9IGVsc2UgaWYgKF9zdGF0dXMgPT0gMSkgewogICAgICAgIHJldHVybiAnTGF1ZmVuZGUgQmVzdGVsbHVuZyc7CiAgICAgIH0gZWxzZSBpZiAoX3N0YXR1cyA9PSAyKSB7CiAgICAgICAgcmV0dXJuICdCZXphaGx1bmcgYXVzc3RlaGVuZCc7CiAgICAgIH0gZWxzZSBpZiAoX3N0YXR1cyA9PSAzKSB7CiAgICAgICAgcmV0dXJuICdBYmdlYnJvY2hlbmUgQmVzdGVsbHVuZyc7CiAgICAgIH0gZWxzZSBpZiAoX3N0YXR1cyA9PSA0KSB7CiAgICAgICAgcmV0dXJuICdFcmZvbGdyZWljaCBhYmdlc2NobG9zc2VuZSBCZXN0ZWxsdW5nJzsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7CiAgICAgIHZhciBoZXV0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKHRoaXMuZ2V3YWVobHRlQmVzdGVsbHVuZy5zdGFydGRhdHVtKTsKCiAgICAgIGlmIChzdGFydC5nZXRUaW1lKCkgPD0gaGV1dGUuZ2V0VGltZSgpIHx8IHRoaXMuZ2V3YWVobHRlQmVzdGVsbHVuZy5zdGF0dXMgIT0gMCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGdlc2FtdGtvc3RlbjogZnVuY3Rpb24gZ2VzYW10a29zdGVuKCkgewogICAgICBpZiAodGhpcy5iZXN0ZWxsa29zdGVuLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZ2VzYW10ID0gMDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJlc3RlbGxrb3N0ZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLmdld2FlaGx0ZUJlc3RlbGx1bmcuc3RhdHVzID09IDIgJiYgdGhpcy5iZXN0ZWxsa29zdGVuW2ldLnR5cCA9PSAwKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGdlc2FtdCArPSB0aGlzLmJlc3RlbGxrb3N0ZW5baV0ubWVuZ2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZ2VzYW10OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5ibnIgIT0gIiIpIHsKICAgICAgdGhpcy5hdXNnZXdhZWhsdCA9IHRydWU7CiAgICAgIHRoaXMubXNnID0gIkJlc3RlbGx1bmc6ICIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuYm5yOwogICAgICBVc2VyU2VydmljZS5nZXRPcmRlcih0aGlzLiRyb3V0ZS5wYXJhbXMuYm5yKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLmRhdGEub3JkZXIuZG9wcGVsdCA9IGZhbHNlOwogICAgICAgIF90aGlzNC5nZXdhZWhsdGVCZXN0ZWxsdW5nID0gcmVzcG9uc2UuZGF0YS5vcmRlcjsKICAgICAgICBfdGhpczQuYmVzdGVsbGtvc3RlbiA9IFtdOwogICAgICAgIFVzZXJTZXJ2aWNlLmdldE9yZGVyQ29zdChfdGhpczQuJHJvdXRlLnBhcmFtcy5ibnIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZS5kYXRhLmNvc3RzLmZvckVhY2goZnVuY3Rpb24gKGNvc3QpIHsKICAgICAgICAgICAgX3RoaXM0LmJlc3RlbGxrb3N0ZW4ucHVzaChjb3N0KTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goIi9kYXNoYm9hcmQvYmVzdGVsbHVuZ2VuLyIgKyBfdGhpczQuJHJvdXRlLnBhcmFtcy5ibnIpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgSGVscGVyLmhhbmRsZShlcnJvcik7CiAgICAgICAgICBfdGhpczQuYXVzZ2V3YWVobHQgPSBmYWxzZTsKICAgICAgICAgIF90aGlzNC5tc2cgPSAiQWxsZSBCZXN0ZWxsdW5nZW4iOwogICAgICAgICAgSGVscGVyLnJlZGlyZWN0KCIvZGFzaGJvYXJkL2Jlc3RlbGx1bmdlbi8iKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgSGVscGVyLmhhbmRsZShlcnJvcik7CiAgICAgICAgX3RoaXM0LmF1c2dld2FlaGx0ID0gZmFsc2U7CiAgICAgICAgX3RoaXM0Lm1zZyA9ICJBbGxlIEJlc3RlbGx1bmdlbiI7CiAgICAgICAgSGVscGVyLnJlZGlyZWN0KCIvYWRtaW4vYmVzdGVsbHVuZ2VuIik7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5hdXNnZXdhZWhsdCA9IGZhbHNlOwogICAgICB0aGlzLm1zZyA9ICJBbGxlIEJlc3RlbGx1bmdlbiI7CiAgICAgIHRoaXMuaG9sZUJlc3RlbGx1bmdlbigpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\coanh\\OneDrive\\Documents\\SW-Projekt\\Auto\\Autovermietung\\Autovermietung\\src\\components\\BestellungenKu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div v-if=\"!ausgewaehlt\">\r\n      <h1>{{ msg }}</h1>\r\n      <hr>\r\n      <div class=\"table-responsive\">\r\n        <table class=\"table\">\r\n          <thead>\r\n          <tr>\r\n            <th>BNR</th>\r\n            <th>Startdatum</th>\r\n            <th>Enddatum</th>\r\n            <th>Auto</th>\r\n            <th>Erstelldatum</th>\r\n            <th>Status</th>\r\n            <th>Details</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"(bestellung, index) in bestellungen\" :key=\"index\">\r\n            <td>{{ bestellung.bnr }}</td>\r\n            <td>{{ bestellung.startdatum }}</td>\r\n            <td>{{ bestellung.enddatum }}</td>\r\n            <td>{{ bestellung.auto_fk }}</td>\r\n            <td>{{ bestellung.zeitstempel }}</td>\r\n            <td>{{ status(bestellung.status) }}</td>\r\n            <td>\r\n              <button class=\"btn btn-primary\" @click=\"showOrder(bestellung.bnr)\">Weiter</button>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <h1>{{ msg }}</h1>\r\n      <hr>\r\n      <h3 class=\"form-group\">Auto: {{ gewaehlteBestellung.auto_fk }}</h3>\r\n      <h3 class=\"form-group\">Mietzeitraum: {{ gewaehlteBestellung.startdatum }} -\r\n        {{ gewaehlteBestellung.enddatum }}</h3>\r\n      <div class=\"table-responsive form-group\">\r\n        <table class=\"table\">\r\n          <thead>\r\n          <tr>\r\n            <th>Kosten</th>\r\n            <th>Beschreibung</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"(kosten, index) in bestellkosten\" :key=\"index\">\r\n            <td>{{ kosten.menge }}€</td>\r\n            <td>{{ kosten.beschreibung }}</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <form>\r\n        <div class=\"form-group text-right\">\r\n          <h3>Gesamtkosten: {{ gesamtkosten }}€</h3>\r\n        </div>\r\n        <div class=\"form-group actions\">\r\n          <button class=\"btn btn-secondary\" type=\"cancel\" @click=\"back\">Zurueck zur Uebersicht</button>\r\n          <button class=\"btn btn-primary\" @click=\"abbrechen\" :disabled=isDisabled>Abbrechen</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n// Hier wird fuer Mitarbeiter/Admin alles bzgl. Bestellungen angezeigt/definiert\r\nimport UserService from \"../services/user.service\";\r\nimport Helper from \"../services/helper.service\";\r\nimport Auth from \"../services/auth.service\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            ausgewaehlt: false,\r\n            msg: '',\r\n            bestellungen: [],\r\n            gewaehlteBestellung: '',\r\n            bestellkosten: []\r\n        }\r\n    },\r\n    methods: {\r\n        // zurueck zur allgemeinen Bestellueubersicht\r\n        back() {\r\n            this.ausgewaehlt = false;\r\n            this.msg = \"Alle Bestellungen\"\r\n            this.holeBestellungen();\r\n            this.$router.push(\"/dashboard/bestellungen\")\r\n        },\r\n        // bestellung abbrechen\r\n        abbrechen() {\r\n            let heute = new Date()\r\n            let start = new Date(this.gewaehlteBestellung.startdatum)\r\n            let oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds\r\n            let diffDays = Math.floor((start.getTime() - heute.getTime())/(oneDay))\r\n            if(confirm(\"Meochten Sie die Bestellung wirklich abbrechen?\")){\r\n                if(diffDays < 8){\r\n                    let zeit = new Date(this.gewaehlteBestellung.zeitstempel)\r\n                    diffDays = Math.floor((heute.getTime() - zeit.getTime())/(oneDay))\r\n                    if(diffDays < 4){\r\n                        this.gewaehlteBestellung.status = 3\r\n                        Auth.updateStatusOrder(this.$route.params.bnr, 3)\r\n                            .then((response) =>{\r\n                        if(response.data.success){\r\n                            alert(\"Bestellung wurde erfolgreich abgebrochen.\")\r\n                            this.ausgewaehlt = false;\r\n                            this.msg = \"Alle Bestellungen\"\r\n                            Helper.redirect(\"/dashboard/bestellungen\");\r\n                        }\r\n                        })\r\n                        .catch((error) => {\r\n                            Helper.handle(error)\r\n                            this.ausgewaehlt = false;\r\n                            this.msg = \"Alle Bestellungen\"\r\n                            Helper.redirect(\"/dashboard/bestellungen\");\r\n                        })\r\n                    }\r\n                    else{\r\n                         //Strafe in Form von 10% der Bestellkosten des zu mietenden Autos \r\n                        let kosten = 0\r\n                        for(let i =0; i< this.bestellkosten.length; i++){\r\n                            if(this.bestellkosten[i].typ == 0){\r\n                                kosten = this.bestellkosten[i].menge\r\n                            }\r\n                        }\r\n                         if(confirm(\"Sind Sie sicher? Es wird wegen der kurzfristign Absage eine Strafzahlung in Hoehe von \" + ((kosten/100)*10) + \"€ faellig\")){\r\n                            this.gewaehlteBestellung.status = 2\r\n                            Auth.updateStatusOrder(this.$route.params.bnr, 2)\r\n                                .then((response) =>{\r\n                                    if(response.data.success){\r\n                                          Auth.addCost(this.$route.params.bnr, 5, ((kosten/100)*10), 'Strafkosten fuer kurzfristiges Abbrechen')\r\n                                            .then((response) =>{\r\n                                                if(response.data.success){\r\n                                                    alert(\"Bestellung wurde abgebrochen. Jedoch muessen Sie eine Strafe zahlen\")\r\n                                                    this.ausgewaehlt = false;\r\n                                                    this.msg = \"Alle Bestellungen\"\r\n                                                    Helper.redirect(\"/dashboard/bestellungen\");\r\n                                                }\r\n                                            })\r\n                                            .catch((error) => {\r\n                                                Helper.handle(error)\r\n                                                this.ausgewaehlt = false;\r\n                                                this.msg = \"Alle Bestellungen\"\r\n                                                Helper.redirect(\"/dashboard/bestellungen\");\r\n                                             })\r\n                                    }\r\n                                 })\r\n                                 .catch((error) => {\r\n                                    Helper.handle(error)\r\n                                    this.ausgewaehlt = false;\r\n                                    this.msg = \"Alle Bestellungen\"\r\n                                    Helper.redirect(\"/dashboard/bestellungen\");\r\n                            })\r\n                         }\r\n                    }\r\n                }\r\n                else{\r\n                    this.gewaehlteBestellung.status = 3\r\n                    Auth.updateStatusOrder(this.$route.params.bnr, 3)\r\n                    .then((response) =>{\r\n                        if(response.data.success){\r\n                            alert(\"Bestellung wurde erfolgreich abgebrochen.\")\r\n                            this.ausgewaehlt = false;\r\n                            this.msg = \"Alle Bestellungen\"\r\n                            Helper.redirect(\"/dashboard/bestellungen\");\r\n                        }\r\n                    })\r\n                    .catch((error) => {\r\n                        Helper.handle(error)\r\n                        this.ausgewaehlt = false;\r\n                        this.msg = \"Alle Bestellungen\"\r\n                        Helper.redirect(\"/dashboard/bestellungen\");\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        // zur detaillierten Bestellübersicht wechseln\r\n        showOrder(bnr){\r\n            this.ausgewaehlt = true;\r\n            this.msg = \"Bestellung: \" + bnr\r\n            this.gewaehlteBestellung = this.bestellungen.find(\r\n            (element) => element.bnr == bnr)\r\n            this.bestellkosten = []\r\n            UserService.getOrderCost(bnr)\r\n            .then((response) => {\r\n                response.data.costs.forEach((cost) => {\r\n                    this.bestellkosten.push(cost)\r\n                })\r\n                this.$router.push(\"/dashboard/bestellungen/\" + bnr)\r\n            })\r\n            .catch((error) => {\r\n                Helper.handle(error)\r\n                this.ausgewaehlt = false;\r\n                this.msg = \"Alle Bestellungen\"\r\n                Helper.redirect(\"/dashboard/bestellungen/\");\r\n            })\r\n        },\r\n        // alle bestellungen von backend holen\r\n        holeBestellungen(){\r\n            if (this.bestellungen.length < 1) {\r\n                UserService.getOrder(\"alle\")\r\n                .then((response) => {\r\n                    response.data.orders.forEach((order) => {\r\n                        this.bestellungen.push(order)\r\n                    })\r\n                })\r\n                .catch((error) => Helper.handle(error));\r\n            }\r\n        },\r\n         // status in text umwandeln\r\n          status(status) {\r\n           if(status == 0){\r\n              return 'Wartet auf Bestaetigung'\r\n           }\r\n           else if(status == 1){\r\n               return 'Laufende Bestellung'\r\n           }\r\n           else if(status == 2){\r\n               return 'Bezahlung ausstehend'\r\n           }\r\n           else if(status == 3){\r\n               return 'Abgebrochene Bestellung'\r\n           }\r\n           else if(status == 4){\r\n               return 'Erfolgreich abgeschlossene Bestellung'\r\n           }\r\n        }   \r\n    },\r\n    computed: {\r\n        isDisabled() {\r\n            let heute = new Date()\r\n            let start = new Date(this.gewaehlteBestellung.startdatum)\r\n            if (start.getTime() <= heute.getTime() || this.gewaehlteBestellung.status != 0){\r\n                return true\r\n            }\r\n            else{\r\n                return false\r\n            }\r\n        },\r\n        gesamtkosten(){\r\n            if(this.bestellkosten.length > 0){\r\n                let gesamt = 0\r\n                for(let i=0; i<this.bestellkosten.length;i++){\r\n                    if(this.gewaehlteBestellung.status == 2 && this.bestellkosten[i].typ == 0){\r\n                        continue\r\n                    }\r\n                    gesamt += this.bestellkosten[i].menge\r\n                }\r\n                return gesamt\r\n            }\r\n            else{\r\n                return ''\r\n            }\r\n        }\r\n    },\r\n    beforeMount(){\r\n        if (this.$route.params.bnr != \"\") {\r\n            this.ausgewaehlt = true\r\n            this.msg = \"Bestellung: \" + this.$route.params.bnr\r\n            UserService.getOrder(this.$route.params.bnr)\r\n                .then((response) => {\r\n                    response.data.order.doppelt = false\r\n                    this.gewaehlteBestellung = response.data.order\r\n                    this.bestellkosten = []\r\n                    UserService.getOrderCost(this.$route.params.bnr)\r\n                        .then((response) => {\r\n                            response.data.costs.forEach((cost) => {\r\n                                this.bestellkosten.push(cost)\r\n                            })\r\n                            this.$router.push(\"/dashboard/bestellungen/\" + this.$route.params.bnr)\r\n                        })\r\n                        .catch((error) => {\r\n                            Helper.handle(error)\r\n                            this.ausgewaehlt = false;\r\n                            this.msg = \"Alle Bestellungen\"\r\n                            Helper.redirect(\"/dashboard/bestellungen/\");\r\n                        })\r\n                })\r\n                .catch((error) => {\r\n                    Helper.handle(error);\r\n                    this.ausgewaehlt = false;\r\n                    this.msg = \"Alle Bestellungen\"\r\n                    Helper.redirect(\"/admin/bestellungen\")\r\n                })\r\n        }\r\n        else{\r\n            this.ausgewaehlt = false\r\n            this.msg = \"Alle Bestellungen\"\r\n            this.holeBestellungen()\r\n        }\r\n    }\r\n}\r\n \r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":""}]}